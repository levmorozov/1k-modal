!function(e){function n(){return s.length?s[s.length-1]:null}var c,o=document,i=e(o.documentElement),s=[];e.m1k=function(l,t){var d,a,r=e.extend(this,{id:"m1k",single:!1,class:"m1k-pop",esc:!0,click:!0,close:"Ã—"},e.fn.m1k.defaults,t,l.data()),u=r.id,f=l;if(a=e('<div class="'+u+" "+u+'-hide"><div class="'+u+"-content "+r.class+'">'+(r.close?'<div class="'+u+'-close" aria-label="Close">'+r.close+"</div>":"")+"</div></div>").clone(),r.single)for(;n();)n().c();void 0===c&&(c=e('<div class="'+u+'-root"></div>'),e("body").append(c)),s.push(r),i.addClass("w-"+u),(d=o.activeElement).blur&&d.blur(),f.show(),a.find("."+u+"-content").append(f),a.removeClass(u+"-hide").on("click."+u,function(n){var c=e(n.target);r.click&&c.is("."+u)&&r.c()}).find("."+u+"-close").click(function(){return r.c(),!1}),c.append(a),e(o).off("keydown."+u).on("keydown."+u,function(e){27===e.which&&n().esc&&n().c()}),f.trigger(u+":open"),r.c=function(){s.pop(),f.hide().appendTo(e("body")),a.remove(),a=null,d&&d.focus(),n()||(i.removeClass("w-"+u),e(o).off("keydown."+u)),f.trigger(u+":close")}},e.m1k.close=function(){n()&&n().c()},e.fn.m1k=function(n){return 1===this.length&&new e.m1k(e(this),n),this}}(jQuery);